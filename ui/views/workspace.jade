doctype html
head
  title ORNL Constellate
  link(id="bs-css", href="/common/css/bootstrap-cerulean.css", rel="stylesheet", type="text/css")
  link(href="/common/css/bootstrap-responsive.css", rel="stylesheet", type="text/css")
  link(href="/common/css/charisma-app.css", rel="stylesheet", type="text/css")
  link(href="/common/css/jquery-ui-1.8.21.custom.css", rel="stylesheet", type="text/css")
  link(href="/common/css/fullcalendar.css", rel="stylesheet", type="text/css")
  link(href="/common/css/fullcalendar.print.css", rel="stylesheet", type="text/css")
  link(href="/common/css/chosen.css", rel="stylesheet", type="text/css")
  link(href="/common/css/uniform.default.css", rel="stylesheet", type="text/css")
  link(href="/common/css/colorbox.css", rel="stylesheet", type="text/css")
  link(href="/common/css/jquery.cleditor.css", rel="stylesheet", type="text/css")
  link(href="/common/css/jquery.noty.css", rel="stylesheet", type="text/css")
  link(href="/common/css/noty_theme_default.css", rel="stylesheet", type="text/css")
  link(href="/common/css/elfinder.min.css", rel="stylesheet", type="text/css")
  link(href="/common/css/elfinder.theme.css", rel="stylesheet", type="text/css")
  link(href="/common/css/jquery.iphone.toggle.css", rel="stylesheet", type="text/css")
  link(href="/common/css/opa-icons.css", rel="stylesheet", type="text/css")
  link(href="/common/css/uploadify.css", rel="stylesheet", type="text/css")
  link(href="/common/css/dynatree/ui.dynatree.css", rel="stylesheet", type="text/css")
  link(href="/common/css/modal.css" rel="stylesheet")
  
  link(href="/common/css/DataTables/jquery.dataTables_themeroller.css", rel="stylesheet")
  link(href="/common/css/DataTables/jquery.dataTables.css", rel="stylesheet")
  link(href="/common/css/DataTables/ColVis/ColVis.css", rel="stylesheet")
  
  script(src="/common/js/jquery/jquery-1.7.2.min.js")
  script(src="/common/js/jquery/jquery-ui-1.8.21.custom.min.js")
    
  script(src="/common/js/core2.js")
  script(src="/common/js/sampledata.js")
    
html(lang="en")
  body
    
    // DOI modal
    div#doiModal.modal.fade(tabindex="-1",role="dialog",aria-labelledby="doiModalLabel",aria-hidden="true")
      div.modal-dialog
        div.modal-header
          button.close(type="button",data-dismiss="modal",aria-hidden="true")
          h4#myModalLabel.modal-title DOI Submission Items
        div.modal-body
          div Add the following resources to DOI form?
          br
          table
            tr(valign="top")
              td(width="15%") Files
              td(style="padding-left:15px")#doiModalFilesField
            tr(valign="top")
              td(width="15%") Groups
              td(style="padding-left:15px")#doiModalGroupsField
            tr(valign="top")
              td(width="15%") People
              td(style="padding-left:15px")#doiModalPeopleField
            tr(valign="top")
              td(width="15%") Jobs
              td(style="padding-left:15px")#doiModalJobsField
            tr(valign="top")
              td(width="15%") Apps
              td(style="padding-left:15px")#doiModalAppsField
            tr(valign="top")
              td(width="15%") Tags
              td(style="padding-left:15px")#doiModalTagsField
          
        div.modal-footer
          button.btn.btn-default(data-dismiss="modal") Cancel
          button#create_doi_button.btn.btn-primary Create DOI Form
    
    // ADD TAG MODAL
    div#tagModal.modal.fade(tabindex="-1",role="dialog",aria-labelledby="myModalLabel",aria-hidden="true")
      div.modal-dialog
        div.modal-header
          button.close(type="button",data-dismiss="modal",aria-hidden="true")
          h4#myModalLabel.modal-title Tag Information
        div.modal-body
          div Tag Name:
          input#tag_name.form-control.create_tree_options(placeholder="Tag name",style="margin-bottom:10px;margin-top:10px")
          div Tag Description:
          textarea#tag_description.form-control(rows="3",placeholder="Tag description",style="margin-bottom:10px;margin-top:10px")
          div Resources:
          div#resources_to_tag(style="margin-bottom:10px")
          div Types:
          div#resources_types_to_tag(style="margin-bottom:10px")
          div Share with:
          div#shared_users(style="margin-bottom:10px") Insert Options for people, groups, etc
          div Files:
          div#files_to_tag(style="margin-bottom:10px")
        div.modal-footer
          button.btn.btn-default(data-dismiss="modal") Cancel
          button#create_tag1.btn.btn-primary Create Tag
      
    // TAGS TABLE MODAL  
    div#tableModal.modal.fade(tabindex="-1", role="dialog", aria-labelledby="myModalLabel", aria-hidden="true")
      div.modal-dialog
        div.modal-header
          button.close(type="button", data-dismiss="modal", aria-hidden="true")
          h4#tableModalLabel.modal-title Tags Table
        div.modal-body.box-content#tagsTableContainer(style="margin-top:10px; max-height:550px; width:500px; overflow:auto")
          table#tagsTable.display.dataTable
            thead
              tr
                th Name
                th Description
            tbody
        div.modal-footer
          button.btn.btn-default(data-dismiss="modal") Dismiss
      
    // NAVIGATION BAR
    div.navbar
      div.navbar-inner 
        div.container-fluid
          div.top-nav.nav-collapse
            ul.nav
              li 
                a(href="../settings/#{uname}") #{uname}
              li
                a(href="../workspace/#{uname}") Workspace
              li
                a(href="../doi/#{uname}") DOI
              li
                a(href="#")#search_button Search
                //a(href="../search/#{uname}")#search_button Search
              li
                form.navbar-search.pull-left
                  input(placeholder="Search this workspace",name="query",type="text").search-query.span2#search_terms
        
    div.container-fluid
      div.row-fluid
        div.span12
          div
            ul.breadcrumb
              li
                a(href="#")
                  span#user_id_label #{uname}
                span.divider /
              li
                a#tag_create(href="#") Workspace
      div.row-fluid
        div.span12#user_info_space
          // This seems like as good a place as any to store the remainder of the user data in the document object.
          p#curUserNid(style='display:none') #{nid}
          p#curUserEmail(style='display:none') #{email}
          p#curUserName(style='display:none') #{name}
          p#curUserNumber(style='display:none') #{uid}
          p#curUserUname(style='display:none') #{uname}
                
      div.row-fluid
        div.span12
          div
            p.user_info
            
      div.row-fluid
      
        // LEFT MENU PANEL
        div.span2.main-menu-span 
          div.well.nav-collapse.sidebar-nav
            ul.nav.nav-tabs.nav-stacked.main-menu
              li.nav-header.hidden-tablet Main
              li
                // The click event for a#add_doi_button is defined in js/add_doi.js.
                a#add_doi_button(href="#")
                  //data-toggle="modal", data-target="#doiModal",   
                  span.hidden-tablet Create DOI
              li.nav-header.hidden-tablet Tags
              li
                a#create_tag(data-toggle="modal", data-target="#tagModal", href="#")
                  span.hidden-tablet Add Tag
              //li
                a.ajax-link(href="#")
                  span.hidden-tablet Remove Tag
              li
                a#show_table_button.ajax-link(data-toggle="modal", data-target="#tableModal", style="margin-bottom:50px", href="#")
                  span.hidden-tablet Review Tags
                  
              li.nav-header.hidden-tablet Search 
              li
                a#search_view(href="#")
                  span.hidden-tablet Search Workspace
          div#tagCloud.well.nav-collapse.sidebar-nav(style="margin-top:15px")
              
        // MAIN CONTENT
        div.span8
          div.row-fluid.sortable
          
            // COLLABORATORS
            div#collabBox.box.span4
              div.box-header.well
                span#collabSearchIcon(style="cursor:default")
                  h2 Collaborators
                  i.icon-search#collabSearchIcon(title="Search Collaborators",style="margin-top:5px;margin-bottom:12px;margin-left:12px;margin-right:12px;padding:5px")
                div.box-icon
                  //a.btn.btn-minimize.btn-round(href="#")
                    //i.icon-chevron-up
                  a.btn.btn-close.btn-round(href="#")
                    i.icon-remove
              div.box-content
                span#collabSearchPanel(style="display:none;position:absolute;z-index:1;border-style:none;background-color:white")
                  input#collabSearchText(type="text", style="width:100px")
                  button#collabSearchButton Search
                  button#clearCollabSearchTextButton Clear
                div#collaborators_tree(style="height:200px") 

            // PROJECT SPACE
            div#projectsBox.box.span4
              // (All the "box" classes are defined in the file charisma-app.css.
              div.box-header.well
                h2#myProjectHeader Project Space
                div.box-icon
                  a.btn.btn-minimize.btn-round(href="#")
                    i.icon-chevron-up
                  a.btn.btn-close.btn-round(href="#")
                    i.icon-remove
              div.box-content 
                div#files_tree(style="height:200px")

            // JOBS
            div.box.span4
              div.box-header.well
                span#jobSearchIcon(style="cursor:default")
                  h2 Jobs
                  i.icon-search(title="Search Jobs",style="margin-top:5px;margin-bottom:12px;margin-left:12px;margin-right:12px")
                div.box-icon
                  a.btn.btn-minimize.btn-round(href="#")
                    i.icon-chevron-up
                  a.btn.btn-close.btn-round(href="#")
                    i.icon-remove
              div.box-content
                span#jobsSearchPanel(style="display:none;position:absolute;z-index:1;border-style:none;background-color:white")
                  input#jobsSearchText(type="text", style="width:100px")
                  button#jobsSearchButton Search
                  button#clearJobsSearchTextButton Clear
                div#jobs_tree(style="height:200px")
          
          
                  
          // TAG WORKSPACE
          div.row-fluid.sortable
            div.box.span12
              div.box-header.well
                span#jobSearchIcon
                  h2 Tags Workspace
                div.box-icon
                  a.btn.btn-minimize.btn-round(href="#")
                    i.icon-chevron-up
                  a.btn.btn-close.btn-round(href="#")
                    i.icon-remove
              div.box-content
                div.row-fluid
                  div.span6
                    ul#tagButtonList(style="list-style:none")
                    //br
                    //div#aggregateTagButtons
                      //button#tagcloudObtainDoiButton(data-toggle="modal" data-target="#doiModal") Obtain DOI
                      //button#tagcloudUpdateTagButton Update Tag
                      //button#tagcloudDeleteTagButton Delete Tag
                  div.span6
                    div.tagInfoPane.row-fluid

          // DOI PANEL
          div.row-fluid.sortable
            div.span12
              div.box.span12
                div.box-header.well
                  h2 User DOIs
                div.box-content
                  div#doi_tree

          // INFO PANEL
          //commented out for now
          //div.row-fluid.sortable
            div.span12
              div.box.span12
                div.box-header.well
                  h2 Info
                  div.box-icon
                    a.btn.btn-minimize.btn-round(href="#")
                      i.icon-chevron-up
                    a.btn.btn-close.btn-round(href="#")
                      i.icon-remove
                div.box-content
                  //div.tagInfoPane.row-fluid
                  h3 User Info
                  div#user_info
                  h3 Collaborators Info
                  div#collaborator_info
                  h3 File Info
                  div#file_info
                  h3 Job/Type Info 
                  div#job_info
                  h3 App Info
                  div#app_info
        
        //feed
        div.span2
          h3 My Feed
            
    script(src="/common/js/bootstrap/bootstrap-transition.js")
    script(src="/common/js/bootstrap/bootstrap-alert.js")
    script(src="/common/js/bootstrap/bootstrap-modal.js")
    script(src="/common/js/bootstrap/bootstrap-dropdown.js")
    script(src="/common/js/bootstrap/bootstrap-scrollspy.js")
    script(src="/common/js/bootstrap/bootstrap-tab.js")
    script(src="/common/js/bootstrap/bootstrap-tooltip.js")
    script(src="/common/js/bootstrap/bootstrap-popover.js")
    script(src="/common/js/bootstrap/bootstrap-button.js")
    script(src="/common/js/bootstrap/bootstrap-collapse.js")
    script(src="/common/js/bootstrap/bootstrap-carousel.js")
    script(src="/common/js/bootstrap/bootstrap-typeahead.js")
    script(src="/common/js/bootstrap/bootstrap-tour.js")
    script(src="/common/js/jquery/jquery.cookie.js")
    script(src="/common/js/fullcalendar.min.js")
    
    script(src="/common/js/jquery/DataTables/jquery.dataTables.js")
    script(src="/common/js/jquery/DataTables/ColVis/ColVis.js")
    
    script(src="/common/js/excanvas.js")
    script(src="/common/js/jquery/jquery.flot.min.js")
    script(src="/common/js/jquery/jquery.flot.pie.min.js")
    script(src="/common/js/jquery/jquery.flot.stack.js")
    script(src="/common/js/jquery/jquery.flot.resize.min.js")
    script(src="/common/js/jquery/jquery.chosen.min.js")
    script(src="/common/js/jquery/jquery.uniform.min.js")
    script(src="/common/js/jquery/jquery.colorbox.min.js")
    script(src="/common/js/jquery/jquery.cleditor.min.js")
    script(src="/common/js/jquery/jquery.noty.js")
    script(src="/common/js/jquery/jquery.elfinder.min.js")  
    script(src="/common/js/jquery/jquery.raty.min.js")
    script(src="/common/js/jquery/jquery.iphone.toggle.js")
    script(src="/common/js/jquery/jquery.autogrow-textarea.js")
    script(src="/common/js/jquery/jquery.uploadify-3.1.min.js")
    script(src="/common/js/jquery/jquery.history.js")
    script(src="/common/js/charisma.js")
    script(src="/common/js/jquery/jquery.dynatree.min.js")
    
    script(src="/workspace/js/ajax/userinfo.js")
    script(src="/workspace/js/ajax/groupinfo.js")
    script(src="/workspace/js/ajax/fileinfo.js")
    script(src="/workspace/js/ajax/jobinfo.js")
    script(src="/workspace/js/ajax/doiTree.js")
    
    script(src="/workspace/js/feed.js")
    
    script(src="/workspace/js/ajax/tagstable.js")
    script(src="/workspace/js/ajax/tagclouds.js")
    script(src="/workspace/js/add_tag.js")
    script(src="/workspace/js/add_doi.js")
    
    script(src="/workspace/js/main.js")
